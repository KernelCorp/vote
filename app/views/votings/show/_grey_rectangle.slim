#main_grey_rectangle
  - for i in 0..9
    input id="main_input_#{i}" maxlength='1' pattern='^\d{1}$'
  .button#main_grey_rectangle_button= t 'main_page.button'

javascript:
  (function(){
    $("#main_grey_rectangle")
    .on('keydown', function(e){
      if( e.keyCode == 8 && !e.target.value.length )
        $(e.target).prev('input').focus();
    })
    .on('keyup', function(e){
      if( e.target.value.length )
        $(e.target).next('input').focus();
    });

    var inputs = $("#main_grey_rectangle input");

    $("#main_grey_rectangle_button").on('mousedown', function(e){
      var number = "";
      if( inputs.filter(function() { return this.value.length != 1; }).length ){
        $(document).trigger('custom:alert', ["#{ t 'main_page.length_inputs_alert' }"]);
      } else
      if( inputs.filter(function() { number += this.value; return !this.value.match(/^\d+$/); }).length ){
        $(document).trigger('custom:alert', ["#{ t 'main_page.text_inputs_alert' }"]);
      }
      else {
        $('#app_logup #phone').val(number).trigger('paste.mask').trigger('input.mask');
        
        var phone_clone = $('#phone_for_cloning').clone().removeAttr('id');
        var phone_clone_numbers = phone_clone.find('.for_js').empty();

        for( var i=0; i<10; i++ ){
          phone_clone_numbers.append('<div class="number number_'+i+'">'+number[i]+'</div>');
        }

        var phone_clone_matches = phone_clone.find('.matches');
        phone_clone_matches.find('span').remove();
        phone_clone_matches.prepend('<span>'+0+' </span>');

        phone_clone.appendTo('#phones_not_in_voting');
      }
      return false;
    });

    /*$("#main_widgets_registation").on('mousedown', function(){
      $("#app_login .log_already_done_this").trigger('mousedown');
    });*/
  })();